/// <reference path="./global.d.ts" />
/**
 * @ydant/core
 *
 * 純粋な DSL 処理系とプラグインシステム
 */

// =============================================================================
// Types (DSL 非依存の基盤型のみ)
// =============================================================================

export type {
  Tagged,
  SpellSchema,
  Spell,
  Request,
  Response,
  Builder,
  Render,
  Component,
  RequiredCapabilities,
  ProvidedCapabilities,
  CapabilityCheck,
} from "./types";

// =============================================================================
// Capabilities
// =============================================================================

export type {
  TreeCapability,
  DecorateCapability,
  InteractCapability,
  ScheduleCapability,
  ResolveCapability,
} from "./capabilities";

// =============================================================================
// Plugin System
// =============================================================================

export type {
  Backend,
  ExecutionScope,
  Plugin,
  RenderContext,
  Scheduler,
  Message,
  EngineOptions,
  Engine,
  Hub,
} from "./plugin";

// =============================================================================
// Utilities
// =============================================================================

export { isTagged, toRender } from "./utils";

// =============================================================================
// Embed
// =============================================================================

export type { Embed } from "./embed";
export { embed, createEmbedPlugin } from "./embed";

// =============================================================================
// Mount
// =============================================================================

// =============================================================================
// Scheduler
// =============================================================================

export { sync, microtask, animFrame } from "./scheduler";

// =============================================================================
// Hub
// =============================================================================

export { createHub } from "./hub";

// =============================================================================
// Mount
// =============================================================================

export type { MountOptions, MountHandle } from "./mount";
export { mount, createExecutionScope } from "./mount";
